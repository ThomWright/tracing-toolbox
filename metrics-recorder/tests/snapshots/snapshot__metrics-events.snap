---
source: metrics-recorder/tests/snapshot.rs
assertion_line: 48
expression: events
---
- new_call_site:
    id: 0
    kind: span
    name: greeting
    target: snapshot
    level: info
    module_path: snapshot
    file: metrics-recorder/tests/snapshot.rs
    fields: []
- new_span:
    id: 1
    metadata_id: 0
    values: {}
- span_entered:
    id: 1
- new_call_site:
    id: 1
    kind: span
    name: iteration
    target: snapshot
    level: info
    module_path: snapshot
    file: metrics-recorder/tests/snapshot.rs
    fields:
      - i
- new_span:
    id: 2
    metadata_id: 1
    values:
      i:
        u_int: 0
- span_entered:
    id: 2
- new_call_site:
    id: 2
    kind: event
    name: event
    target: tracing_metrics_recorder
    level: info
    module_path: "tracing_metrics_recorder::helpers"
    file: metrics-recorder/src/helpers.rs
    fields:
      - message
      - kind
      - name
      - labels
      - prev_value
      - value
      - unit
      - description
- new_event:
    metadata_id: 2
    values:
      message:
        object: "counter `greeting.count` = 1"
      kind:
        string: counter
      name:
        string: greeting.count
      prev_value:
        u_int: 0
      value:
        u_int: 1
- new_event:
    metadata_id: 2
    values:
      message:
        object: "gauge `greeting.oddity` = 0"
      kind:
        string: gauge
      name:
        string: greeting.oddity
      prev_value:
        float: 0
      value:
        float: 0
- new_event:
    metadata_id: 2
    values:
      message:
        object: "histogram `greeting.latency` = 0.01 seconds"
      kind:
        string: histogram
      name:
        string: greeting.latency
      labels:
        object: "{\"oddity\": \"0\"}"
      prev_value:
        float: 0
      value:
        float: 0.01
      unit:
        string: seconds
      description:
        string: time spent on a greeting
- span_exited:
    id: 2
- span_dropped:
    id: 2
- new_span:
    id: 3
    metadata_id: 1
    values:
      i:
        u_int: 1
- span_entered:
    id: 3
- new_event:
    metadata_id: 2
    values:
      message:
        object: "counter `greeting.count` = 2"
      kind:
        string: counter
      name:
        string: greeting.count
      prev_value:
        u_int: 1
      value:
        u_int: 2
- new_event:
    metadata_id: 2
    values:
      message:
        object: "gauge `greeting.oddity` = 1"
      kind:
        string: gauge
      name:
        string: greeting.oddity
      prev_value:
        float: 0
      value:
        float: 1
- new_event:
    metadata_id: 2
    values:
      message:
        object: "histogram `greeting.latency` = 0.02 seconds"
      kind:
        string: histogram
      name:
        string: greeting.latency
      labels:
        object: "{\"oddity\": \"1\"}"
      prev_value:
        float: 0
      value:
        float: 0.02
      unit:
        string: seconds
      description:
        string: time spent on a greeting
- span_exited:
    id: 3
- span_dropped:
    id: 3
- new_span:
    id: 4
    metadata_id: 1
    values:
      i:
        u_int: 2
- span_entered:
    id: 4
- new_event:
    metadata_id: 2
    values:
      message:
        object: "counter `greeting.count` = 3"
      kind:
        string: counter
      name:
        string: greeting.count
      prev_value:
        u_int: 2
      value:
        u_int: 3
- new_event:
    metadata_id: 2
    values:
      message:
        object: "gauge `greeting.oddity` = 0"
      kind:
        string: gauge
      name:
        string: greeting.oddity
      prev_value:
        float: 1
      value:
        float: 0
- new_event:
    metadata_id: 2
    values:
      message:
        object: "histogram `greeting.latency` = 0.03 seconds"
      kind:
        string: histogram
      name:
        string: greeting.latency
      labels:
        object: "{\"oddity\": \"0\"}"
      prev_value:
        float: 0.01
      value:
        float: 0.03
      unit:
        string: seconds
      description:
        string: time spent on a greeting
- span_exited:
    id: 4
- span_dropped:
    id: 4
- new_span:
    id: 5
    metadata_id: 1
    values:
      i:
        u_int: 3
- span_entered:
    id: 5
- new_event:
    metadata_id: 2
    values:
      message:
        object: "counter `greeting.count` = 4"
      kind:
        string: counter
      name:
        string: greeting.count
      prev_value:
        u_int: 3
      value:
        u_int: 4
- new_event:
    metadata_id: 2
    values:
      message:
        object: "gauge `greeting.oddity` = 1"
      kind:
        string: gauge
      name:
        string: greeting.oddity
      prev_value:
        float: 0
      value:
        float: 1
- new_event:
    metadata_id: 2
    values:
      message:
        object: "histogram `greeting.latency` = 0.04 seconds"
      kind:
        string: histogram
      name:
        string: greeting.latency
      labels:
        object: "{\"oddity\": \"1\"}"
      prev_value:
        float: 0.02
      value:
        float: 0.04
      unit:
        string: seconds
      description:
        string: time spent on a greeting
- span_exited:
    id: 5
- span_dropped:
    id: 5
- new_span:
    id: 6
    metadata_id: 1
    values:
      i:
        u_int: 4
- span_entered:
    id: 6
- new_event:
    metadata_id: 2
    values:
      message:
        object: "counter `greeting.count` = 5"
      kind:
        string: counter
      name:
        string: greeting.count
      prev_value:
        u_int: 4
      value:
        u_int: 5
- new_event:
    metadata_id: 2
    values:
      message:
        object: "gauge `greeting.oddity` = 0"
      kind:
        string: gauge
      name:
        string: greeting.oddity
      prev_value:
        float: 1
      value:
        float: 0
- new_event:
    metadata_id: 2
    values:
      message:
        object: "histogram `greeting.latency` = 0.05 seconds"
      kind:
        string: histogram
      name:
        string: greeting.latency
      labels:
        object: "{\"oddity\": \"0\"}"
      prev_value:
        float: 0.03
      value:
        float: 0.05
      unit:
        string: seconds
      description:
        string: time spent on a greeting
- span_exited:
    id: 6
- span_dropped:
    id: 6
- span_exited:
    id: 1
- span_dropped:
    id: 1

